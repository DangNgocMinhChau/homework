<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz Game</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
        }
        #quiz-container {
            max-width: 600px;
            width: 100%;
            padding: 20px;
            background-color: #f0f0f0;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        .questions {
            display: none;
            margin-bottom: 20px;
        }
        .questions.active {
            display: block;
        }
        .title-question {
            font-weight: bold;
            margin-bottom: 10px;
        }
        .answers-group {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }
        .item-answers {
            flex: 1 1 calc(50% - 10px);
            box-sizing: border-box;
            padding: 15px;
            border: 1px solid #ccc;
            cursor: pointer;
            border-radius: 5px;
            transition: background-color 0.3s ease;
        }
        .item-answers:hover {
            background-color: #e9ecef;
        }
        .item-answers.selected {
            background-color: #007bff;
            color: white;
        }
        .button-check {
            margin-top: 20px;
            padding: 12px 20px;
            background-color: #007bff;
            color: white;
            text-align: center;
            cursor: pointer;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            transition: background-color 0.3s ease;
        }
        .button-check:hover {
            background-color: #0056b3;
        }
        .help-buttons {
            position: fixed;
            top: 20px;
            left: 20px;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        .help-button {
            padding: 10px;
            background-color: #28a745;
            color: white;
            cursor: pointer;
            border: none;
            border-radius: 5px;
            text-align: center;
            display: none;
        }
        .help-button.disabled {
            background-color: #6c757d;
            cursor: not-allowed;
        }
    </style>
</head>
<body>

<div id="quiz-container">
    <div id="player-name-prompt">
        <label for="player-name">Nhập tên của bạn:</label>
        <input type="text" id="player-name" maxlength="10">
        <button onclick="startGame()">Bắt đầu</button>
    </div>
</div>

<div class="help-buttons">
    <div id="skip-question" class="help-button" onclick="skipQuestion()">Bỏ qua câu hỏi</div>
    <div id="hide-wrong-answers" class="help-button" onclick="hideWrongAnswers()">Ẩn 2 đáp án sai</div>
</div>

<script>
    const listQuestion = [
        {
            question: "Thủ đô của Việt Nam là gì?",
            answers: [
                "A. Hà Nội",
                "B. TP. Hồ Chí Minh",
                "C. Đà Nẵng",
                "D. Hải Phòng"
            ],
            correctAnswer: "A. Hà Nội"
        },
        {
            question: "Ngọn núi cao nhất thế giới là gì?",
            answers: [
                "A. Núi Everest",
                "B. Núi Phú Sĩ",
                "C. Núi Kilimanjaro",
                "D. Núi Elbrus"
            ],
            correctAnswer: "A. Núi Everest"
        },
        {
            question: "Ai là người đầu tiên đặt chân lên mặt trăng?",
            answers: [
                "A. Neil Armstrong",
                "B. Buzz Aldrin",
                "C. Yuri Gagarin",
                "D. John Glenn"
            ],
            correctAnswer: "A. Neil Armstrong"
        },
        {
            question: "Ngôn ngữ lập trình nào được sử dụng phổ biến nhất cho phát triển web?",
            answers: [
                "A. Java",
                "B. Python",
                "C. JavaScript",
                "D. C#"
            ],
            correctAnswer: "C. JavaScript"
        },
        {
            question: "Quốc gia nào đứng đầu về sản xuất cà phê?",
            answers: [
                "A. Brazil",
                "B. Colombia",
                "C. Việt Nam",
                "D. Indonesia"
            ],
            correctAnswer: "A. Brazil"
        },
        {
            question: "Con vật nào chuyên ăn trái cây?",
            answers: [
                "A. Hổ",
                "B. Sư tử",
                "C. Khỉ",
                "D. Gấu"
            ],
            correctAnswer: "C. Khỉ"
        },
        {
            question: "Thành phố nào được biết đến là 'Thành phố của những ngọn đồi'?",
            answers: [
                "A. San Francisco",
                "B. Rome",
                "C. Prague",
                "D. Sydney"
            ],
            correctAnswer: "A. San Francisco"
        },
        {
            question: "Ai là nhà sáng lập Facebook?",
            answers: [
                "A. Jeff Bezos",
                "B. Mark Zuckerberg",
                "C. Elon Musk",
                "D. Bill Gates"
            ],
            correctAnswer: "B. Mark Zuckerberg"
        },
        {
            question: "Quốc gia nào có tỷ lệ người dùng Internet cao nhất thế giới?",
            answers: [
                "A. Trung Quốc",
                "B. Ấn Độ",
                "C. Mỹ",
                "D. Việt Nam"
            ],
            correctAnswer: "A. Trung Quốc"
        },
        {
            question: "Ngày nào được coi là Ngày Trái Đất?",
            answers: [
                "A. 20/4",
                "B. 22/4",
                "C. 22/5",
                "D. 22/4"
            ],
            correctAnswer: "B. 22/4"
        }
    ];

    const quizContainer = document.getElementById('quiz-container');
    const skipQuestionButton = document.getElementById('skip-question');
    const hideWrongAnswersButton = document.getElementById('hide-wrong-answers');
    let currentQuestionIndex = 0;
    let playerName = '';
    let skipUsed = false;
    let hideUsed = false;

    function isValidName(name) {
        return /^[a-zA-Z]{5,10}$/.test(name);
    }

    function startGame() {
        const playerNameInput = document.getElementById('player-name');
        playerName = playerNameInput.value.trim();
        
        if (!isValidName(playerName)) {
            alert('Tên không hợp lệ. Tên phải có độ dài từ 5 đến 10 ký tự và chỉ chứa chữ cái.');
            return;
        }

        playerNameInput.disabled = true;
        playerNameInput.style.display = 'none';
        playerNameInput.nextElementSibling.style.display = 'none';

        renderQuestion(currentQuestionIndex);
    }

    function renderQuestion(index) {
        const q = listQuestion[index];
        const questionDiv = document.createElement('div');
        questionDiv.className = 'questions';

        if (index === 0) {
            questionDiv.classList.add('active');
        }

        const titleQuestionDiv = document.createElement('div');
        titleQuestionDiv.className = 'title-question';

        const line1 = document.createElement('div');
        line1.className = 'line';
        line1.innerText = `Câu hỏi ${index + 1}:`;

        const line2 = document.createElement('div');
        line2.className = 'line';
        line2.innerText = q.question;

        titleQuestionDiv.appendChild(line1);
        titleQuestionDiv.appendChild(line2);

        const answersGroupDiv = document.createElement('div');
        answersGroupDiv.className = 'answers-group';

        const shuffledAnswers = shuffleArray(q.answers);

        shuffledAnswers.forEach(answer => {
            const answerDiv = document.createElement('div');
            answerDiv.className = 'item-answers';
            answerDiv.innerText = answer;
            answerDiv.onclick = () => selectAnswer(answerDiv, answer, q.correctAnswer);
            answersGroupDiv.appendChild(answerDiv);
        });

        const buttonCheckDiv = document.createElement('button');
        buttonCheckDiv.className = 'button-check';
        buttonCheckDiv.innerText = 'Kiểm tra';
        buttonCheckDiv.onclick = () => checkAnswer(q.correctAnswer);

        questionDiv.appendChild(titleQuestionDiv);
        questionDiv.appendChild(answersGroupDiv);
        questionDiv.appendChild(buttonCheckDiv);

        quizContainer.innerHTML = '';
        quizContainer.appendChild(questionDiv);

        updateHelpButtons();
    }

    function selectAnswer(answerDiv, selectedAnswer, correctAnswer) {
        if (!answerDiv.classList.contains('disabled')) {
            const activeAnswers = document.querySelectorAll('.questions.active .item-answers');
            activeAnswers.forEach(item => item.classList.remove('selected'));
            answerDiv.classList.add('selected');
        }
    }

    function checkAnswer(correctAnswer) {
        const selectedAnswer = document.querySelector('.questions.active .item-answers.selected');
        if (!selectedAnswer) {
            alert('Vui lòng chọn một đáp án.');
            return;
        }
        const selectedText = selectedAnswer.innerText;

        if (selectedText === correctAnswer) {
            alert('Chính xác!');
            if (currentQuestionIndex < listQuestion.length - 1) {
                currentQuestionIndex++;
                renderQuestion(currentQuestionIndex);
            } else {
                endGame(true);
            }
        } else {
            alert(`Sai rồi! Đáp án đúng là: ${correctAnswer}`);
            endGame(false);
        }
    }

    function endGame(isWin) {
        if (isWin) {
            alert(`Chúc mừng ${playerName} đã hoàn thành trò chơi!`);
        } else {
            alert(`Rất tiếc, ${playerName} đã trả lời sai. Trò chơi kết thúc.`);
        }
        skipQuestionButton.style.display = 'none';
        hideWrongAnswersButton.style.display = 'none';
        document.querySelector('#quiz-container .questions.active').style.display = 'none';
    }

    function skipQuestion() {
        if (!skipUsed) {
            currentQuestionIndex++;
            renderQuestion(currentQuestionIndex);
            skipUsed = true;
            updateHelpButtons();
        }
    }

    function hideWrongAnswers() {
        if (!hideUsed) {
            const currentQuestion = listQuestion[currentQuestionIndex];
            const correctAnswer = currentQuestion.correctAnswer;
            const answers = currentQuestion.answers;
            const wrongAnswers = answers.filter(answer => answer !== correctAnswer);
            
            let countHidden = 0;
            const activeAnswers = document.querySelectorAll('.questions.active .item-answers');
            activeAnswers.forEach(item => {
                if (!item.innerText.includes(correctAnswer) && countHidden < 2) {
                    item.classList.add('disabled');
                    countHidden++;
                }
            });

            hideUsed = true;
            updateHelpButtons();
        }
    }

    function updateHelpButtons() {
        if (currentQuestionIndex === listQuestion.length - 1) {
            skipQuestionButton.style.display = 'none';
        } else {
            skipQuestionButton.style.display = skipUsed ? 'none' : 'block';
        }
        hideWrongAnswersButton.style.display = hideUsed ? 'none' : 'block';
    }

    function shuffleArray(array) {
        for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
        }
        return array;
    }
</script>

</body>
</html>